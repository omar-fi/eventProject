<div class="dashboard-container">
  <div class="dashboard-header">
    <h2>Tableau de bord de l'organisateur</h2>
  </div>

  <div class="dashboard-content">
    <div class="event-form-section">
      <h3>Créer un nouvel événement</h3>
      <form [formGroup]="eventForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="title">Titre</label>
          <input
            type="text"
            id="title"
            formControlName="title"
            class="form-control"
            [ngClass]="{ 'is-invalid': eventForm.get('title')?.invalid && eventForm.get('title')?.touched }"
          />
          <div class="invalid-feedback" *ngIf="eventForm.get('title')?.invalid && eventForm.get('title')?.touched">
            Le titre est requis
          </div>
        </div>

        <div class="form-group">
          <label for="description">Description</label>
          <textarea
            id="description"
            formControlName="description"
            class="form-control"
            rows="4"
            [ngClass]="{ 'is-invalid': eventForm.get('description')?.invalid && eventForm.get('description')?.touched }"
          ></textarea>
          <div class="invalid-feedback" *ngIf="eventForm.get('description')?.invalid && eventForm.get('description')?.touched">
            La description est requise
          </div>
        </div>

        <div class="form-group">
          <label for="date">Date</label>
          <input
            type="datetime-local"
            id="date"
            formControlName="date"
            class="form-control"
            [ngClass]="{ 'is-invalid': eventForm.get('date')?.invalid && eventForm.get('date')?.touched }"
          />
          <div class="invalid-feedback" *ngIf="eventForm.get('date')?.invalid && eventForm.get('date')?.touched">
            La date est requise
          </div>
        </div>

        <div class="form-group">
          <label for="location">Lieu</label>
          <input
            type="text"
            id="location"
            formControlName="location"
            class="form-control"
            [ngClass]="{ 'is-invalid': eventForm.get('location')?.invalid && eventForm.get('location')?.touched }"
          />
          <div class="invalid-feedback" *ngIf="eventForm.get('location')?.invalid && eventForm.get('location')?.touched">
            Le lieu est requis
          </div>
        </div>

        <div class="alert alert-danger" *ngIf="error">
          {{ error }}
        </div>

        <div class="alert alert-success" *ngIf="success">
          {{ success }}
        </div>

        <button type="submit" class="btn btn-primary" [disabled]="eventForm.invalid">
          Créer l'événement
        </button>
      </form>
    </div>

    <div class="events-list-section">
      <h3>Mes événements</h3>
      <div class="events-grid">
        <div class="event-card" *ngFor="let event of events">
          <div class="event-header">
            <h4>{{ event.title }}</h4>
            <button class="btn btn-danger btn-sm" (click)="deleteEvent(event.id!)">
              Supprimer
            </button>
          </div>
          <div class="event-body">
            <p class="event-description">{{ event.description }}</p>
            <div class="event-details">
              <p><strong>Date:</strong> {{ event.date | date:'medium' }}</p>
              <p><strong>Lieu:</strong> {{ event.location }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div> 